{{- if eq .chezmoi.hostname "infinity" -}}
#!/usr/bin/env bash

# launch-or-focus APP

if [[ ${address:="$(hyprctl -j clients | jq --raw-output --arg app "$1" 'map(select(.initialClass | test($app; "i"))) | first | .address')"} != "null" ]]; then
    hyprctl dispatch focuswindow address:"$address"
else
    exec gtk-launch "$1"
fi
{{ end -}}

{{/*
vim: filetype=sh.gotmpl
*/}}
